<!--
post
comments

-->
<h1><%= post.title %></h1>
<%= post.description %>
<p><%= link_to "Like" %> <%= (post.likes - post.dislikes).abs %> <%= link_to "Dislike" %>, comments: <%= post.comments.count %></p>
<h2>Comments</h2>
<button id="parent_comment_button">Add a Comment</button>
<%= form_with url: post_add_comment_path(post_id: params[:id]), model: [ post, Comment.new ], remote: true, id: "parent_comment_form", html: { style: "display: none;" } do |form| %>
  <%= form.hidden_field :parent_id, value: nil %>
  <div>
    <%= form.label :comment, "Add a Comment:" %>
    <%= form.rich_text_area :comment, id:"comment_comment_parent" %>
  </div>
  <button id="cancel_parent_comment_form", type="button">Cancel</button>
  <%= form.submit "Post Comment" %>
<% end %>
<% if post.comments.count > 0 %>
  <div id="comments">
    <% post.comments.where(parent_id:nil).each do |comment| %>
      <%= render partial: 'shared/comment', locals: { comment: comment, post: post } %>
    <% end %>
  </div>
<% end %>