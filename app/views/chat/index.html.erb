<div
  class="h-[calc(100dvh-8rem)] md:h-[calc(100dvh-4rem)]"
  x-init="footer_active_tab = 'chat'"
  x-data="{
  activeChat: null,
  replyingToMessage: null,
  }">
  <div class="w-full mx-auto h-full">
    <div class="flex h-full overflow-x-hidden">
      <!-- Left Column: Chat List -->
      <div
      class="w-full md:w-1/3 lg:w-1/4 h-full bg-[var(--background-clr-clear)] border-r border-[var(--border-clr-subtle)] flex flex-col"
      :class="{ 'hidden md:flex': activeChat !== null, 'flex': activeChat === null }">
        <!-- Chat List Header -->
        <div class="p-4 border-b border-[var(--border-clr-subtle)] flex-shrink-0">
          <h2 class="text-xl font-bold text-[var(--txt-clr-strong)]">Chats</h2>
          <div class="relative mt-2">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fa-solid fa-magnifying-glass text-[var(--txt-clr-lite)]"></i>
            </div>
            <input type="search" placeholder="Search chats..." class="w-full pl-10 pr-3 py-2 border border-[var(--border-clr-default)] rounded-full text-sm bg-[var(--background-clr-body)] focus:ring-[var(--primary-500)] focus:border-[var(--primary-500)]">
          </div>
        </div>
        <!-- Chat List Items -->
        <div id="chat_group_list" class="flex-grow overflow-y-auto custom-scrollbar">
          <!-- Chat group list goes here(removed the template here)-->
          <%= render partial: "chat_group_list" %>
        </div>
      </div>
      <!-- Right Column: Active Chat Window -->
      <div
      id="active_chat_window"
      class="w-full md:w-2/3 lg:w-3/4 h-full bg-[var(--background-clr-body)] flex flex-col"
      :class="{ 'flex': activeChat !== null, 'hidden md:flex': activeChat === null }">
        <%= render partial: "empty_chat_window" %>
      </div>
    </div>
  </div>
</div>