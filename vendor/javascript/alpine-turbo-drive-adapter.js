// alpine-turbo-drive-adapter@2.2.0 downloaded from https://ga.jspm.io/npm:alpine-turbo-drive-adapter@2.2.0/dist/alpine-turbo-drive-adapter.esm.js

function e(e,t){var r=e.split(".");var a=t.split(".");for(var n=0;n<r.length;n++)if(a[n]&&a[n]>r[n])return true;return a[r.length-1]===r[r.length-1]}function t(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:true,composed:true,cancelable:true}))}class Bridge{init(){if(!window.Alpine.version||!e("3.0.0",window.Alpine.version))throw new Error("Invalid Alpine version. Please use Alpine 3.0.0 or above");window.Alpine.mutateDom((()=>{document.body.querySelectorAll("[x-cloak]").forEach((e=>{var t;e.setAttribute("data-alpine-was-cloaked",(t=e.getAttribute("x-cloak"))!==null&&t!==void 0?t:"")}))}));this.configureEventHandlers();this.monkeyPatchDomSetAttributeToAllowAtSymbols()}configureEventHandlers(){var e=e=>{if(e.detail.renderMethod!=="morph"&&!document.documentElement.hasAttribute("data-turbo-preview")){t(document,"alpine:init");t(document,"alpine:initializing");window.Alpine.flushAndStopDeferringMutations();t(document,"alpine:initialised");window.Alpine.mutateDom((()=>{document.querySelectorAll("[data-alpine-ignored]").forEach((e=>{e.removeAttribute("x-ignore");e.removeAttribute("data-alpine-ignored")}))}))}};var r=e=>{if(e.detail.renderMethod!=="morph"){window.Alpine.mutateDom((()=>{document.documentElement.hasAttribute("data-turbo-preview")||e.detail.newBody.querySelectorAll("[data-alpine-generated-me],[x-cloak]").forEach((e=>{if(e.hasAttribute("x-cloak")){var t;e.setAttribute("data-alpine-was-cloaked",(t=e.getAttribute("x-cloak"))!==null&&t!==void 0?t:"")}if(e.hasAttribute("data-alpine-generated-me")){e.removeAttribute("data-alpine-generated-me");e.remove()}}))}));window.Alpine.deferMutations()}};var a=e=>{window.Alpine.mutateDom((()=>{document.body.querySelectorAll("[x-for],[x-if],[x-teleport],[data-alpine-was-cloaked]").forEach((e=>{if(e.hasAttribute("data-alpine-was-cloaked")){var t;e.setAttribute("x-cloak",(t=e.getAttribute("data-alpine-was-cloaked"))!==null&&t!==void 0?t:"");e.removeAttribute("data-alpine-was-cloaked")}e.hasAttribute("x-for")&&e._x_lookup&&Object.values(e._x_lookup).forEach((e=>e.setAttribute("data-alpine-generated-me",true)));e.hasAttribute("x-if")&&e._x_currentIfEl&&e._x_currentIfEl.setAttribute("data-alpine-generated-me",true);e.hasAttribute("x-teleport")&&e._x_teleport&&e._x_teleport.setAttribute("data-alpine-generated-me",true)}))}));document.querySelectorAll("[data-turbo-permanent]").forEach((e=>{window.Alpine.mutateDom((()=>{if(!e.hasAttribute("x-ignore")){e.setAttribute("x-ignore",true);e.setAttribute("data-alpine-ignored",true)}e.querySelectorAll("[data-alpine-generated-me]").forEach((e=>{e.removeAttribute("data-alpine-generated-me")}))}))}))};var n=e=>{var{target:t,detail:{newElement:r}}=e;if(!r&&t._x_dataStack)return window.Alpine.destroyTree(t);delete t._x_marker};var i=e=>{var{target:t,detail:{newElement:r}}=e;r&&t._x_dataStack&&window.Alpine.initTree(t)};document.addEventListener("turbo:render",e);document.addEventListener("turbo:before-render",r);document.addEventListener("turbo:before-cache",a);document.addEventListener("turbo:before-morph-element",n);document.addEventListener("turbo:morph-element",i)}monkeyPatchDomSetAttributeToAllowAtSymbols(){var e=Element.prototype.setAttribute;var t=document.createElement("div");Element.prototype.setAttribute=function(r,a){if(!r.includes("@"))return e.call(this,r,a);t.innerHTML="<span ".concat(r,'="').concat(a,'"></span>');var n=t.firstElementChild.getAttributeNode(r);t.firstElementChild.removeAttributeNode(n);this.setAttributeNode(n)}}}window.Alpine&&console.error("Alpine-turbo-drive-adapter must be included before AlpineJs");Object.getOwnPropertyDescriptor(NodeList.prototype,"forEach")||Object.defineProperty(NodeList.prototype,"forEach",Object.getOwnPropertyDescriptor(Array.prototype,"forEach"));document.addEventListener("alpine:init",(()=>{var e=new Bridge;e.init()}),{once:true});var r={};export{r as default};

